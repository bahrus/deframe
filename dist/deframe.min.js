function init(e,t){if("complete"!==document.readyState)return void(document.onreadystatechange=function(){"complete"===document.readyState&&init(e,t)});const n=window.top;document.querySelectorAll('link[as="script"][rel="preloadmodule"]').forEach(e=>{const t=n.document.createElement("script");t.src=e.href,t.type="module",n.document.head.appendChild(t)});const o=n.document.createElement("template");o.innerHTML=document.body.innerHTML;n.customElements.define(e,class extends n.HTMLElement{constructor(){super(),t.useShadow&&(o.content.cloneNode(!0),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(o.content.cloneNode(!0)))}connectedCallback(){if(!t.useShadow){const e=o.content.cloneNode(!0);this.appendChild(e)}}}),window.parent.document.querySelectorAll("iframe").forEach(e=>{e.contentWindow===window&&e.remove()})}export function deframe(e,t={useShadow:!0}){init(e,t)}